<UserControl x:Name="SmpUcCityMng"
             x:Class="PaySys.UI.UC.Tab.UcCityMng"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:PaySys.UI.UC"
             xmlns:fa="clr-namespace:PaySys.Globalization.Fa;assembly=PaySys.Globalization"
             xmlns:bindingConverter="clr-namespace:PaySys.ModelAndBindLib.BindingConverter;assembly=PaySys.ModelAndBindLib"
             xmlns:model="clr-namespace:PaySys.ModelAndBindLib.Model;assembly=PaySys.ModelAndBindLib"
             mc:Ignorable="d"
             FlowDirection="RightToLeft"
             d:DesignHeight="600"
             d:DesignWidth="900">
	<Grid x:Name="GridMain">
		<Grid.RowDefinitions>
			<RowDefinition x:Name="RowToolbar"
			               Height="Auto"/>
			<RowDefinition Height="1*"/>
			<RowDefinition Height="10*"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="3*"/>
			<ColumnDefinition Width="*"/> 
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="3*"/>
		</Grid.ColumnDefinitions>
		<TextBlock Grid.Row="1"
		           Grid.Column="1"
		           Grid.ColumnSpan="2"
		           FontSize="20"
		           HorizontalAlignment="Center"
		           VerticalAlignment="Center"
		           Text="{x:Static fa:Labels.Cities}"/>
		<ToolBar Grid.Row="0"
		         Grid.ColumnSpan="4"
		         Grid.Column="0">
			<ToolBar.Resources>
				<Style x:Key="ToolbarButtonStyle"
				       TargetType="Button">
					<Setter Property="Margin"
					        Value="2,0"/>
				</Style>
			</ToolBar.Resources>
			<Button Name="BtnAdd"
			        Style="{StaticResource ToolbarButtonStyle}"
			        Content="{x:Static fa:Labels.Add}"
					IsEnabled="{Binding ElementName=SmpUcFormStateLabel,Path=EnabledOfCrudButtons}"
			        Click="BtnAdd_OnClick"/>
			<Button Name="BtnEdit"
			        Content="{x:Static fa:Labels.Edit}"
					IsEnabled="{Binding ElementName=SmpUcFormStateLabel,Path=EnabledOfCrudButtons}"
			        Click="BtnEdit_OnClick"
					Style="{StaticResource ToolbarButtonStyle}"/>
			<Button Name="BtnDelete"
			        Style="{StaticResource ToolbarButtonStyle}"
					IsEnabled="{Binding ElementName=SmpUcFormStateLabel,Path=EnabledOfCrudButtons}"
					Content="{x:Static fa:Labels.Delete}"/>
			<Separator/>
			<Button Name="BtnSave"
			        Style="{StaticResource ToolbarButtonStyle}"
			        IsEnabled="{Binding ElementName=SmpUcFormStateLabel,Path=EnabledOfSaveCancelButtons}"
					Click="BtnSave_OnClick"
			        Content="{x:Static fa:Labels.Save}" />
			<Button Name="BtnCancel"
			        Style="{StaticResource ToolbarButtonStyle}"
			        IsEnabled="{Binding ElementName=SmpUcFormStateLabel,Path=EnabledOfSaveCancelButtons}"
					Click="BtnCancel_OnClick"
			        Content="{x:Static fa:Labels.Cancel}" />
			<Separator/>
			<Button Name="BtnRefresh"
			        Style="{StaticResource ToolbarButtonStyle}"
			        IsEnabled="{Binding ElementName=SmpUcFormStateLabel,Path=EnabledOfCrudButtons}"
			        Content="{x:Static fa:Labels.Reload}"
			        Click="BtnRefresh_OnClick"/>
			<Separator/>
			<Button x:Name="BtnSaveCommand"></Button>
		</ToolBar>
		<ListView x:Name="ListViewCities"
		          ItemsSource="{Binding ElementName=SmpUcCityMng,Path=Cities}"
				  IsEnabled="{Binding ElementName=SmpUcFormStateLabel,Path=EnabledOfCrudButtons}"
		          Grid.Row="2"
		          Grid.Column="1"
		          Grid.ColumnSpan="2">
			<ListView.View>
				<GridView>
					<GridViewColumn Header="{x:Static fa:FieldicCity.Title}"
					                Width="80"
					                DisplayMemberBinding="{Binding Title}"/>
					<GridViewColumn Header="{x:Static fa:FieldicCity.Distance}"
					                Width="80"
					                DisplayMemberBinding="{Binding Distance,StringFormat={}{0:N0}}"/>
					<GridViewColumn Header="{x:Static fa:FieldicCity.Percentage}"
					                Width="60"
					                DisplayMemberBinding="{Binding Percentage}"/>
				</GridView>
			</ListView.View>
		</ListView>
		<Grid x:Name="GridDetails"
		      Grid.Row="4"
		      Grid.Column="1"
		      Grid.RowSpan="5"
		      Grid.ColumnSpan="2"
		      DataContext="{Binding ElementName=ListViewCities,Path=SelectedItem}">
			<Grid.Resources>
				<Style TargetType="TextBox">
					<Setter Property="Margin"
					        Value="0,12"/>
					<Setter Property="VerticalContentAlignment"
					        Value="Center"/>
				</Style>
				<Style TargetType="TextBlock">
					<Setter Property="VerticalAlignment"
					        Value="Center"/>
				</Style>
			</Grid.Resources>
			<Grid.RowDefinitions>
				<RowDefinition/>
				<RowDefinition/>
				<RowDefinition/>
				<RowDefinition/>
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="3*"/>
			</Grid.ColumnDefinitions>
			<TextBlock Grid.Column="0"
			           Grid.Row="0"
			           Text="{x:Static fa:FieldicCity.Title}"/>
			<TextBlock Grid.Column="0"
			           Grid.Row="1"
			           Text="{x:Static fa:FieldicCity.Distance}"/>
			<TextBlock Grid.Column="0"
			           Grid.Row="2"
			           Text="{x:Static fa:FieldicCity.Percentage}"/>
			<TextBox x:Name="TextBoxTitle"
			         Grid.Row="0"
			         Grid.Column="1"
			         IsReadOnly="{Binding ElementName=SmpUcFormStateLabel,Path=ReadOnlyOfEditControls}"
			         Text="{Binding Title,UpdateSourceTrigger=Explicit}"/>
			<TextBox x:Name="TextBoxDistance"
			         Grid.Row="1"
			         Grid.Column="1"
			         IsReadOnly="{Binding ElementName=SmpUcFormStateLabel,Path=ReadOnlyOfEditControls}"
			         Text="{Binding Distance,UpdateSourceTrigger=Explicit}"/>
			<TextBox x:Name="TextBoxPercentage"
			         Grid.Row="2"
			         Grid.Column="1"
			         IsReadOnly="{Binding ElementName=SmpUcFormStateLabel,Path=ReadOnlyOfEditControls}"
			         Text="{Binding Percentage,UpdateSourceTrigger=Explicit}"/>
		</Grid>
		<StatusBar Grid.Column="0"
		           Grid.Row="8"
		           Grid.ColumnSpan="4">
			<local:UcFormStateLabel x:Name="SmpUcFormStateLabel"/>
		</StatusBar>
	</Grid>
</UserControl>